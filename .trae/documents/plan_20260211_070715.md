The user encountered a new error: `AttributeError: 'dict' object has no attribute 'type'`.
This happens in `src/agentscope_adapter.py` at `if block.type == "text":`.

This indicates that `response.content` (from `ChatResponse`) contains `dict` objects, not objects with a `.type` attribute (like `TextBlock`).

When I looked at `_openai_model.py` earlier, it seemed to return a list of `TextBlock`, `ThinkingBlock` etc.
However, AgentScope's message blocks might be dictionaries at some point, or Pydantic models that behave like dictionaries?
Actually, the `agentscope.message` blocks (like `TextBlock`) might be subclasses of `dict` or just typed dictionaries in this version.

Let's check `agentscope/message/_message_block.py` if possible, or just print the type of `block`.
But since I can't interactively debug, I should assume `block` behaves like a dictionary.

The error explicitly says `'dict' object has no attribute 'type'`.
So I should access it via `block["type"]` and `block["text"]`.

Plan:

1. Modify `src/agentscope_adapter.py` to access `block` as a dictionary.

   * Change `block.type` to `block["type"]`.

   * Change `block.text` to `block["text"]`.

   * Also check if `thinking` block content is accessed correctly (likely `block["thinking"]`).

Let's verify `_openai_model.py` output again.
It creates `TextBlock(type="text", text=...)`.
If `TextBlock` inherits from `dict` (which is common in these frameworks for JSON serialization), then accessing attributes via dot notation might not be supported if it's just a `TypedDict` or plain `dict`.

Wait, looking at `_openai_model.py`:

```python
from ..message import (
    ToolUseBlock,
    TextBlock,
    ThinkingBlock,
    # ...
)
```

If `TextBlock` is a `TypedDict` or just a dict factory, then dot notation won't work.

I will update the code to use dictionary access `[]`.

Plan:

1. Update `src/agentscope_adapter.py` to use dictionary syntax for response blocks.

