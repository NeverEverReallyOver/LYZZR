User feedback indicates a "logic error": the agents keep asking questions ("Do you play games?", "Do you paint?") but **never answer them**. It's an endless loop of questions, yet the final match score is surprisingly high (95/100).

**Root Cause Analysis:**

1. **Infinite Question Loop**:

   * Currently, the prompt instructs the agent to "be enthusiastic and ask follow-up questions" (especially when attitude is HIGH).

   * Both agents see each other as "High Match" (because I hardcoded a generous scoring logic or they just happen to match).

   * So Agent A asks: "What games do you like?"

   * Agent B receives this, but its System Prompt *also* says "Ask follow-up questions".

   * Agent B *ignores* the question asked by A (or briefly acknowledges it with "Haha, same!") and immediately pivots to *its own* question: "What music do you like?"

   * Agent A sees "Haha, same!" and ignores the music question to ask *another* question.

   * **Fix**: The System Prompt needs to explicitly enforce a **"Answer FIRST, then Question (Optional)"** protocol. The agent *must* respond to the content of the previous message before initiating a new topic.

2. **Match Score is High despite Bad Conversation**:

   * The current `MatchEvaluator` (which generates the score) likely only looks at the *static profiles* (interests overlap) or uses a very basic LLM evaluation that sees "enthusiastic tone" and assumes it's a good chat.

   * The hardcoded logic `_evaluate_match` inside `AgentProfile` (used for initial attitude) is separate from the final report.

   * **Fix**: The final evaluation needs to penalize "ignoring questions" or "parallel monologues". But first, we must fix the conversation flow itself.

**Proposed Solution:**

1. **Modify** **`generate_system_prompt`** **in** **`src/agent_builder.py`**:

   * Add a **CRITICAL RULE**: "You MUST answer the specific question asked by the other person first. Do not ignore their question. Only ask a new question after you have answered theirs."

   * Refine the "High Interest" guide: "Be enthusiastic, but **listen**. Answer their question in detail, *then* ask a related follow-up."

2. **Fix the "Echo Chamber" Effect**:

   * The screenshot shows both agents starting with "Haha, then we have a common language! \[Emoji] What \[Topic] do you like?".

   * This suggests they are both triggering the exact same "interest overlap" logic in their prompt *at the same time* or responding to a generic "Hello".

   * I need to make the opening less formulaic.

**Plan:**

1. **Update** **`src/agent_builder.py`**:

   * Rewrite the `System Prompt` instructions to prioritize **Responsive Communication**.

   * Add explicit instruction: `IF current_msg contains question -> ANSWER IT. ELSE -> React/New Topic.`

   * Reduce the frequency of "Ask new question" in the "High Interest" mode instructions.

2. **Verify**:

   * Run a chat. The flow should be:

     * A: "Do you like games?"

     * B: "Yes! I love Zelda. What about you?" (Answer + Follow-up)

     * A: "I like FPS games. Do you watch movies?" (Answer + New Topic)

This will break the "Question-Question" deadlock.

Plan:

1. Update `src/agent_builder.py`: Enforce "Answer First" logic in system prompt.

